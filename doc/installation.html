<!DOCTYPE html>
<html>
  <head>
    <title>Building and installing NTrace</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="ntrace.css">
  </head>
  <body>
    <div id="content">
      <h1>Building and installing NTrace</h1>

      <div class="nav">
        <span class="up"><a href="index.html">Home</a></span>
        <span class="next"><a href="example.html">Inside your code</a></span>
        <br clear="all">
      </div>

      <p>NTrace is primarily developed on Linux with GCC (version 4.5 and higher) and Windows with Visual Studio (2017 and higher);
        other compilers may work. The main requirement is a C++11 compatible compiler with an STL library that supports threads.</p>

      <h2>Linux</h2>

      <p>Building on Linux follows the usual route, after you downloaded and unpacked the code, or cloned it from github:</p>

      <cmds>
$ ./configure [--enable-examples]
$ make
$ sudo make install
      </cmds>

      <p>By default both the shared and static library are built and installed in /usr/local/lib; header files are
        installed in /usr/local/include and /usr/local/include/ntrace (there is one global header file, /usr/local/include/ntrace.h).</p>

      <p>There is one option: <em>--enable-examples</em>; this will build some test and example code in the examples/ subdirectory.</p>

      <p>Alternatively, you can include NTrace in your own project in a subdirectory and recursively call configure from
        your main project file.</p>

      <p>Either way, you must link the ntrace library to your application; a simple <span class="inline-code">-lntrace</span> to your LDFLAGS should do the trick.</p>

      <h2>Windows</h2>

      <p>For Visual Studio there is a <strong>.vcxproj</strong> included in the package; this was generated using Visual Studio
        2017. For newer versions of Visual Studio you may have to update the project file.</p>

      <p>In order to add it to your project, add the .vcxproj file to your solution. Do not forget to
        add it as a Build Dependency for your main project(s) and as a Reference (otherwise, the linker
        will not try to link the library to your program).</p>

      <p>The library is built as a DLL and cannot be made static because it uses a singleton object;
        if other DLLs would link NTrace as a static library we would end up with multiple copies of that object.
        This also means you must distribute NTRACE.DLL with your program.</p>

      <h2>MingW</h2>

      <p>There is no separate project for MingW but since NTrace uses autoconf and automake it <strong>should</strong>
        work for MingW as well.</p>

      <h2>Qt</h2>

      <p>There was a Qt .pro file but that is currently not maintained.</p>

    </div>
    <footer>&copy; 2019 Bankai Software bv</footer>
  </body>
</html>
